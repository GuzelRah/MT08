# Chrome DevTools

 
## Открыть  DevTools можно тремя способами:

1. Через контекстное меню - нажать на любую часть страницы правой клавишей мыши, а затем выбрать пункт «Посмотреть код»;

2. Через настройки браузера - нажать на иконку в виде трех точек в правом верхнем углу, в появившемся списке выбрать пункт «Дополнительные инструменты», затем выбрать пункт «Инструменты разработчика».

3. Сочетанием горячих клавиш 
- для Windows и Linux **Ctrl + Shift + I**, **Ctrl + Shift + С** или **F12**  
- для macOS **cmd + Shift + I**.

## Вкладки Chrome DevTools 
1. **Elements** — Здесь отображается весь HTML- и CSS-код открытой страницы. На данной вкладке можно просмотреть и внести исправления в файлы CSS и JavaScript, изменить элементы DOM (программного интерфейса (API) для HTML- и XML-документов).Отредактировать HTML-элементы на странице, открытой в браузере, можно, кликнув по нужному элементу правой кнопкой мыши и выбрав пункт Edit as HTML. Изменения можно наблюдать в режиме реального времени. Манипуляции отображаются только в браузере и не видны другим пользователям. Для того чтобы применить исправленное, необходимо поработать с соответствующими файлами на веб-сервере.
2. **Console** — Консоль позволяет смотреть вывод JavaScript, а также исполнять свой код для тестирования и отладки страницы. Если на открытой странице не подгрузились какие-либо данные, например стили, шрифты или картинки, здесь отобразятся соответствующие ошибки с подробным описанием. Также в консоль можно ввести команду на языке JavaScript, и она выполнится.
3. **Sources** — Вкладка отображает загруженные файлы из всех источников, к которым обращался сайт. В большей степени она используется при отладке кода, позволяет увидеть все файлы и просмотреть их содержимое. Sources можно использовать в качестве полноценного редактора кода, получив доступ к локальным файлам через Workspaces.
4. **Network** — На вкладке отображаются сетевые запросы, который делает сайт. Как правило, ее используют при оптимизации скорости загрузки страницы, а также для мониторинга выполняемых запросов. Запросы к данным представлены в виде таблицы. Сверху расположены инструменты: очистка таблицы, включение и отключение записи запросов и другие. Под таблицей можно увидеть количество запросов, общее время загрузки всех данных, время загрузки DOM и ресурсов, участвующих в отображении текущей страницы.
5.  **Performance** - Вкладка отображает нагрузку, которую создает сайт на компьютер пользователя. Здесь можно увидеть показатели FPS, загрузки CPU и сетевые запросы, необходимые данные и инструменты для повышения производительности страницы. На панели есть таймлайн использования сети, выполнения JavaScript и загрузки памяти. После первого построения таймлайнов можно найти данные о всем жизненном цикле страницы и выполнении кода.Также можно посмотреть время исполнения отдельных частей кода и выбрать конкретный период на шкале, чтобы увидеть, какие процессы происходили в этот интервал. Все это позволяет проанализировать каждое событие, которое происходило в момент загрузки или во время взаимодействия с пользователем 
1. **Memory** - Здесь расположено несколько инструментов, которые помогают отслеживать, какую нагрузку на систему оказывает выполнение кода:
- **Heap Snapshot**. С помощью него можно посмотреть, как распределяется память между объектами JavaScript и связанными с ними элементами DOM.
- **Allocation instrumentation on timeline**. Этот инструмент используется для устранения утечек памяти. Он показывает, как распределяется память между переменными в коде.
- **Allocation sampling**. Профайлер записывает, как распределяется память на отдельные функции JavaScrip 
7. **Application** - Панель, где можно быстро очистить хранилище и кэш, а также управлять базами данных. 
1. **Security** - Отвечает за надежность ресурса. Здесь можно получить информацию о данных протокола и сертификата безопасности, если они есть. Также, если источник небезопасный, узнать, какие именно запросы не защищены. Поэтому этот инструмент, как правило, используется для решения проблем со смешанным контентом и другими подобными задачами 
1. **Lighthouse** - На этой вкладке можно проверить производительность сайта.

- Performance. Позволяет узнать скорость загрузки сайта. Итоговый показатель зависит от времени загрузки интерактивных элементов, шрифтов и прочего контента, а также от времени блокировки и отрисовки стилей.
- Progressive Web App. Позволяет проверить, регистрирует ли сайт Service Workers, возможна ли работа сайта офлайн, а также возвращает ошибку 200.
- Best Practices. Помогает проверить безопасность сайта и узнать, применяются ли современные стандарты веб-разработки. На показатель влияет использование устаревших API, HTTPS, корректность кодировки и многое другое.
- Accessibility. Позволяет узнать, насколько удобен сайт, как воспринимается контент и можно ли управлять интерфейсом и передвигаться по сайту без мыши.
SEO. Позволяет понять, насколько соблюдаются рекомендации Google по оптимизации сайта. На показатель влияют использование метатегов, наличие alt у изображений, адаптивная верстка и пр.
## Основные возможности

1. **Поиск нужного DOM-элемента (программного интерфейса (API) для HTML- и XML-документов)**

   На панели Elements находится полное DOM-дерево, которое можно просмотреть и изменить. Найти конкретный элемент можно двумя способами:  
   - Выбор элемента на странице. Необходимо навести курсор, например на картинку на сайте, нажать правую кнопку мыши и выбрать «Просмотреть код». В DOM-дереве код выбранного элемента будет подсвечен.  
   - Использование функции поиска HTML-компонента. Для этого надо кликнуть по кнопке со стрелкой в левом верхнем углу консоли, а затем — по необходимому элементу на странице.
   - Нажать на сочетание "Ctrl + Shift + С", Происходит переключение на режим проверки элементов.  Навести курсор на элементы, они будут описаниы.

2. **Редактирование HTML**  
    В консоли отображаются абсолютно все элементы: div, section, footer и т. д. Чтобы, например, изменить текст, достаточно кликнуть по нему два раза. Такие же действия доступны для классов и типов данных. Чтобы редактировать конкретную часть кода, нужно кликнуть по имени класса или самому слову class. Помимо этого, можно редактировать сразу большой участок текста или, например, названия атрибутов. Необходимо просто кликнуть правой кнопкой мыши по необходимому элементу и выбрать нужную опцию.  

3. **Работа с CSS**  
   Под редактором HTML располагается консоль работы со стилями. В Chrome DevTools можно отключать и включать любое свойство одним кликом по чекбоксу слева. Также именно Chrome DevTools имеет удобную палитру для выбора оттенка цвета и позволяет настраивать угол наклона градиента. Здесь представлена визуализация отступов элемента, поэтому можно с легкостью настроить положение одного объекта относительно других. Также с помощью инструментов разработчика можно вынудить элементы вести себя определенным образом. К примеру, принудительно активировать псевдокласс :hover, чтобы настроить внешний вид кнопки при наведении на нее курсора. Внесенные изменения можно отследить в графе Changes (в нижнем блоке DevTools, справа от Console) - Они оформлены в стиле GitHub, т.е. видно и замененный элемент, и его обновленный вариант.  

4. **Поиск и исправление «мертвого» кода**  
   Иногда в файлах CSS и JavaScript содержится много кода, который присутствует, но нигде не используется. Его наличие напрямую влияет на производительность сайта. В Chrome DevTools для этого предусмотрен инструмент Coverage. На панели со всеми основными вкладками (Elements, Console и т.д.) с правой стороны есть три точки. Необходимо кликнуть по ним и выбрать More Tools, где расположен Coverage. Внизу появится новая вкладка, где представлены данные о неиспользуемых CSS и JavaScript в процентном выражении. Если кликнуть по одному из них, можно увидеть все строки кода с цветовым обозначением: красные — используемые, синие — неиспользуемые. Чтобы повысить производительность сайта, нужно убрать неиспользуемый код.  

5. **Структурирование кода**  
    Код, в котором отсутствуют «мертвые» элементы, улучшает производительность сайта, но сложен для восприятия (иногда бывают удалены даже пробелы и переносы строк). Chrome DevTools позволяет его структурировать. На вкладке Elements необходимо выбрать любой минифицированный ресурс (CSS, JS или HTML), после чего в новой вкладке отобразится содержимое, а снизу появится иконка с изображением фигурных скобок. Нажав на них, Chrome DevTools структурирует код, который подходит для внесения каких-либо изменений.  

6. **Просмотр внешнего вида сайта на разных устройствах (разработка адаптивного дизайна)**  
   В режиме разработчика Google Chrome можно посмотреть, как выглядит текущая страница практически на любом устройстве. Сделать это можно комбинацией клавиш Ctrl + Shift + M для Windows и Linux и cmd + Shift + M для macOS. Также можно кликнуть на значок телефона (Toggle device toolbar) в левом верхнем углу консоли. Теперь можно выбрать абсолютно любое разрешение или конкретное устройство из списка Dimensions. Также инструмент позволяет посмотреть, как будет отображаться страница при разной скорости интернета.

7. **Запуск и дебаггинг JavaScript-кода**  
   Инструменты Chrome DevTools позволяют работать не только с CSS и HTML, но и с JavaScript-кодом. Можно запускать произвольные команды через встроенную консоль или подключая дополнительные JS-файлы.  
   Чтобы открыть JS-файл, нужно перейти во вкладку Sources справа от Elements. Через консоль также можно отслеживать работу сайта, наблюдая за появляющимися ошибками и особенностями поведения сайта, в частности с помощью функции console.log( ).  
   Также Chrome DevTools отлично подходят для поиска и исправления ошибок в коде. В нем для этого есть целый список брейкпоинтов, то есть точек, на которых останавливается исполнение кода с целью проанализировать его.  

8. **Оптимизация производительности сайта**  
   В разделе Performance можно оценить скорость работы ресурса. Посмотреть, через какой период времени приходит ответ от сервера, за какой период времени отрисовывается интерфейс, в какой момент становится доступен хотя бы один из элементов сайта и так далее.  

9. **Анализ подключения**
    В разделе Network можно посмотреть, как проходит подключение к источникам данных и загрузка отдельных элементов страницы. Здесь можно взглянуть на проблемные файлы, которые не загружаются вовсе или загружаются слишком долго.  

10. **Уровень безопасности сайта**  
    Chrome DevTools умеет в автоматическом режиме анализировать страницу, проверять сертификаты и степень защищенности соединения. Сюда же попадает проверка всех подключаемых ресурсов.  

11. **Анализ нагрузки на систему при выполнении кода**
    В разделе Memory расположено несколько инструментов, которые помогают отслеживать, какую нагрузку на систему оказывает выполнение кода:  
    - Heap Snapshot. С помощью него можно посмотреть, как распределяется память между объектами JavaScript и связанными с ними элементами DOM.  
    - Allocation instrumentation on timeline. Этот инструмент используется для устранения утечек памяти. Он показывает, как распределяется память между переменными в коде.  
    - Allocation sampling. Профайлер записывает, как распределяется память на отдельные функции JavaScript.  
  
12. **Очистка кеша**  
     Раздел Application -  Панель, где можно быстро очистить хранилище и кэш, а также управлять базами данных.  

13. **Анализ безопасности**  
    Раздел Security отвечает за надежность ресурса. Здесь можно получить информацию о данных протокола и сертификата безопасности, если они есть. Также, если источник небезопасный, узнать, какие именно запросы не защищены. Поэтому этот инструмент, как правило, используется для решения проблем со смешанным контентом и другими подобными задачами.  

14. **Первичная аналитика ресурса**  
     Раздел Lighthouse покажет все слабые и сильные места ресурса.  
     - Performance. Позволяет узнать скорость загрузки сайта. Итоговый показатель зависит от времени загрузки интерактивных элементов, шрифтов и прочего контента, а также от времени блокировки и отрисовки стилей.
     - Progressive Web App. Позволяет проверить, регистрирует ли сайт Service Workers, возможна ли работа сайта офлайн, а также возвращает ошибку 200.  
     - Best Practices. Помогает проверить безопасность сайта и узнать, применяются ли современные стандарты веб-разработки. На показатель влияет использование устаревших API, HTTPS, корректность кодировки и многое другое.  
     - Accessibility. Позволяет узнать, насколько удобен сайт, как воспринимается контент и можно ли управлять интерфейсом и передвигаться по сайту без мыши.  
     - SEO. Позволяет понять, насколько соблюдаются рекомендации Google по оптимизации сайта. На показатель влияют использование метатегов, наличие alt у изображений, адаптивная верстка и пр.  

    Каждый из показателей оценивается по шкале 100 баллов. Также для удобства оценка имеет цвет: зеленый — от 90 до 100 баллов, оранжевый — от 50 до 89 баллов, красный — ниже 49 баллов.  

15. **Снимки экрана при загрузке страницы**  
    Одна из самых полезных функций в DevTools — серия снимков в процессе загрузки страницы. С ее помощью можно отловить какие-то баги и нелогичное поведение элементов в процессе построения страницы. Или посмотреть, появляется ли при загрузке спиннер или прогресс-бар.  
    Как сделать серию снимков экрана при загрузке:  
     - Откройте панель разработчика (F12).  
     - Откройте вкладку Network.  
     - Нажмите на шестерёнку в правом верхнем углу панели.  
     - Включите чекбокс Capture screenshots.
     - Нажмите Ctrl+R.
    Лента скриншотов появится в верхней части окна. Щелкнув по одному из них, вы сможете последовательно просмотреть все скриншоты с временными отметками и отследить, когда какой элемент появился на странице.  

16. **Подмена User-Agent**  
    User-Agent — это строка, передающая сайту информацию о том, какое программное обеспечение использует посетитель. В ней зафиксировано, каким устройством человек пользуется (ПК, планшет или смартфон), с какой операционной системой и через какой браузер. В зависимости от этих параметров сайт может выглядеть по-разному.  
    Как изменить User-Agent в DevTools:  
     - Откройте панель разработчика (F12) и вызовите Command Menu (Ctrl+Shift+P).  
     - Введите Show Network conditions и нажмите Enter. После этого в нижней части DevTools откроется вкладка Network conditions.  
     - В поле User-Agent снимите галочку с Use browser default.  
     - После этого из выпадающего списка ниже вы сможете выбрать нужный User-Agent.  
    Если в списке нет нужного User-Agent, можно ввести данные вручную. Для этого в выпадающем списке выберите пункт Custom и пропишите параметры в строке ниже.  

17. **Переопределение геолокации**
    Через DevTools можно переопределить локацию пользователя, чтобы проверить, как сайт будет выглядеть для жителей разных городов/стран/часовых поясов.  
    Как сменить геолокацию в DevTools:  
     - Откройте консоль разработчика (F12) и вызовите Command Menu (Ctrl+Shift+P).  
     - Введите команду Sensors и выберите в списке пункт Show Sensors. После этого в нижней части DevTools откроется вкладка Sensors.  
     - Продолжаем работать во вкладке Sensors. В поле Location из выпадающего списка можно выбрать уже имеющиеся города.  
    Если нужного города в списке не оказалось, кликайте по кнопке Manage справа от выпадающего списка с доступными локациями. Затем Add Location и добавляйте город сами — с названием, координатами и часовым поясом.  

18. **Блокирование запросов**
    Как заблокировать определённые запросы  
     - Откройте панель разработчика (F12) и вызовите Command Menu (Ctrl+Shift+P).  
     - Введите Show Request Blocking и выберите Show Network Request Blocking. Ниже откроется панель Network Request Blocking.  
     - На вкладке Network выберите элемент, запрос к которому вы хотите заблокировать.  
     - Из меню Headers скопируйте его и нажмите на кнопку Add Pattern в панели Network Request Blocking.  
     - Вставить запрос в поле в меню Network Requesting Block и нажмите на кнопку Add.  
     - Убедитесь, что чек-боксы запроса и Enable network request blocking активированы.  
     - Перезагрузите страницу и проверьте изменения.  

19. **Сохранение изменений в Chrome при перезагрузке страниц**
    Изменения, внесенные в стили на странице, смена шрифта, цвета, удаление изображения, добавление текста и т.д, могут быть сохранены даже после перезагрузки страницы. Тут помогут локальные переопределения. И работают они для большинства типа файлов за некоторыми исключениями.  
    Как сохранять изменения локально:  
     - Откройте панель разработчика (F12).  
     - Откройте вкладку Sources.  
     - На панели файлов слева откройте вкладку Overrides.  
     - Нажмите на кнопку Select folder for overrides.  
     - Выберите папку, в которой вы будете хранить изменения, которые вносите на страницу.  
     - Во всплывающем окне разрешите доступ DevTools к выбранной папке.  
     - Найдите файл с кодом страницы во вкладке Network. Для этого нужно перезагрузить страницу и сортировать все по Doс. Чаще всего этот файл называется index.html.  
     - Кликните правой кнопкой по этому файлу и сохраните его Save for overrides. Теперь можно вносить в код изменения, которые сохранятся и после перезагрузки страницы.  
     - Для этого найдите код нужного элемента во вкладке Elements с помощью специального инструмента (Ctrl+Shift+C) и скопируйте его.  
     - Найдите скопированный элемент во вкладке Sources в документе с кодом страницы (чтобы открыть поисковую строку, нажмите Ctrl+F).  
     - Внесите в него изменения и нажмите Ctrl+S, чтобы сохранить их. Перезагрузите страницу.  
    Ограничения! DevTools не сохраняет изменения, сделанные в DOM-дереве на вкладке Elements. Редактировать можно только файл с кодом страницы во вкладке Sources. Но! Если CSS не зафиксирован в файле с кодом страницы, его получится отредактировать и сохранить и на вкладке Styles.  

