# Баг-репорт

## Баг №1. Запрашиваемый ресурс не найден

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль"
- Выбрать фильтр "Ошибки"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- POST https://stream.datago.ru/mp/collect?tid=UA-89387429-1 - ошибка 404 Not Found

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №2. Не удалось выполнить CORS-запрос на главной странице

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль"
- Выбрать фильтр "Ошибки"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Запрос из постороннего источника заблокирован: Политика одного источника запрещает чтение удаленного ресурса на https://cms-res.online.sberbank.ru/sberid/BlackList/Button/No_Button.json. (Причина: не удалось выполнить запрос CORS). Код состояния: (null).

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №3. Не удалось выполнить GET-запрос на странице авторизации

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошибки)
- Нажать на кнопку "Войти"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- GET https://id.sber.ru/CSAFront/api/userdata?client_id=52cd75e2-76e1-43ba-ade6-938b2c7d4e7a - 400 Bad Request

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №4. Ошибка типа "Clicked ToCart Button (Desktop + Mobile Main Icon)"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошибки)
- Нажать на кнопку "Корзина"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- TypeError: DDManager Custom Event "Clicked ToCart Button (Desktop + Mobile Main Icon)" Error

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №5. Ошибка типа "Viewed Campaign"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошибки)
- Нажать на раздел "Мега Выгода"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- TypeError: DDManager Custom Event "Viewed Campaign" Error

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №6. Ошибка типа "Viewed Product Listing"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошибки)
- Нажать на раздел "Возврат"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- TypeError: DDManager Custom Event "Viewed Product Listing" Error

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №7. Не удалось выполнить GET-запрос на странице СберСпасибо из-за запрашиваемого диапазона

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошибки)
- Нажать на раздел "Сберспасибо"

**Ожидаемый результат:**

- Будет выведена картинка "Как потратить бонусы от СберСпасибо

**Фактический результат:**

- GET https://main-cdn.sbermegamarket.ru/upload/mnt/dcdb9cec-cce6-4754-a9f2-bf69dd7645d1.jpg - 416 Requested Range Not Satisfiable

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №7. Тайм-аут шлюза в каталоге

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошибки)
- Нажать на раздел "Каталог"

**Ожидаемый результат:**

- Запрос будет отправлен

**Фактический результат:**

- GET https://api.flocktory.com/underworld/tracks/ultimate.js?body={"data":{"action":"session.page_visit","payload":{"resolution":"1920x1040","ga":{"utmcsr":"","utmccn":"","utmcmd":"","h_utmcsr":"","h_utmccn":"","h_utmcmd":""},"url":"https://megamarket.ru/"},"links":{"site":2319}},"site-session-id":"bc805808-1c4b-486b-bac1-9adeb83e4b2e-9"}&callback=flock_jsonp_9999 - 504 Gateway Timeout

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №8. Не удалось выполнить CORS-запрос в разделе о компании

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "О компании"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Запрос из постороннего источника заблокирован: Политика одного источника запрещает чтение удаленного ресурса на «https://vk.com/rtrg?p=VK-RTRG-1421183-77G99&products_event=view_other&price_list_id=1&e=1&i=0&metatag_url=%2F%2Fmegamarket.ru%2Finfo%2Fabout-sbermegamarket-ru%2F&metatag_title=%D0%9E%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%B0%D0%BD%D0%B8%D0%B8%20-%20%D0%9C%D0%B0%D1%80%D0%BA%D0%B5%D1%82%D0%BF%D0%BB%D0%B5%D0%B9%D1%81%20megamarket.ru». (Причина: Учётные данные не поддерживаются, если заголовок CORS «Access-Control-Allow-Origin» установлен в «*»).

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №9. Ошибка доступа к свободному API в разделе "О компании"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "О компании"

**Ожидаемый результат:**

- Доступ к API будет доступен

**Фактический результат:**

- Open api access error

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №10. Ошибка избыточной навигации в "Помощь покупателю"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Помощь покупателю"

**Ожидаемый результат:**

- Навигация не будет дублироваться

**Фактический результат:**

- Uncaught (in promise) NavigationDuplicated: Avoided redundant navigation to current location: "/help/".

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №11. Не удалось выполнить CORS-запрос в разделе "Промокоды""

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Промокоды"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Запрос из постороннего источника заблокирован: Политика одного источника запрещает чтение удаленного ресурса на «https://vk.com/rtrg?p=VK-RTRG-1421183-77G99&products_event=view_other&price_list_id=1&e=1&i=0&metatag_url=%2F%2Fmegamarket.ru%2Fpromo%2Fpromocode%2F&metatag_title=%D0%9F%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D1%8B%20megamarket.ru%20-%20%D0%A3%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F%20%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F%20%D0%BF%D1%80%D0%BE%D0%BC%D0%BE%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2%20%D0%B2%20%D0%BC%D0%B0%D1%80%D0%BA%D0%B5%D1%82%D0%BF%D0%BB%D0%B5%D0%B9%D1%81%D0%B5%20megamarket.ru%20-%20%D0%9C%D0%B0%D1%80%D0%BA%D0%B5%D1%82%D0%BF%D0%BB%D0%B5%D0%B9%D1%81%20megamarket.ru». (Причина: Учётные данные не поддерживаются, если заголовок CORS «Access-Control-Allow-Origin» установлен в «*»).

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №12. Не удалось выполнить CORS-запрос в разделе "Приглашение к сотрудничеству"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Приглашение к сотрудничеству"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Запрос из постороннего источника заблокирован: Политика одного источника запрещает чтение удаленного ресурса на «https://vk.com/rtrg?p=VK-RTRG-1421183-77G99&products_event=view_other&price_list_id=1&e=1&i=0&metatag_url=%2F%2Fmegamarket.ru%2Finfo%2Fpartners%2F&metatag_title=%D0%9C%D0%B5%D0%B3%D0%B0%D0%BC%D0%B0%D1%80%D0%BA%D0%B5%D1%82%20-%20%D0%BF%D0%B0%D1%80%D1%82%D0%BD%D1%91%D1%80%D0%B0%D0%BC%20-%20%D0%9C%D0%B0%D1%80%D0%BA%D0%B5%D1%82%D0%BF%D0%BB%D0%B5%D0%B9%D1%81%20megamarket.ru». (Причина: Учётные данные не поддерживаются, если заголовок CORS «Access-Control-Allow-Origin» установлен в «*»).

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №13. Ошибка указания неопределенного типа данных в "Приглашение к сотрудничеству"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Приглашение к сотрудничеству"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Uncaught (in promise) TypeError: e is null

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №14. Синтаксическая ошибка в JSON в разделе "База знаний"

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "База знаний"

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №15. Ошибка обращения к несуществующей переменной в "Вход в личный кабинет" (Продавцам)

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Вход в личный кабинет" (в разделе "Продавцам")

**Ожидаемый результат:**

- Используемые в коде переменные - определены.

**Фактический результат:**

- Uncaught ReferenceError: yaCounter55606897 is not defined

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №16. Не удалось выполнить CORS-запрос в разделе "Вход в личный кабинет" (Продавцам) - первая

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Вход в личный кабинет" (в разделе "Продавцам")

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Запрос из постороннего источника заблокирован: Политика одного источника запрещает чтение удаленного ресурса на https://stats.g.doubleclick.net/j/collect?t=dc&aip=1&_r=3&v=1&_v=j101&tid=UA-89387429-6&cid=1192548834.1693726094&jid=194447317&gjid=255890322&_gid=1607889253.1693726094&_u=YGBAAEAAAAAAACgGK~&z=2010471227. (Причина: не удалось выполнить запрос CORS). Код состояния: (null)

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0


## Баг №17. Не удалось выполнить CORS-запрос в разделе "Вход в личный кабинет" (Продавцам) - вторая

**Предшествующие условия:**

- Зайти на сайт <https://megamarket.ru/>

**Серьезность:**

- Minor

**Шаги для воспроизведения:**

- Нажать F12
- Открыть раздел "Консоль" (ошлибки)
- Нажать на активный текст "Вход в личный кабинет" (в разделе "Продавцам")

**Ожидаемый результат:**

- Ошибок не будет

**Фактический результат:**

- Запрос из постороннего источника заблокирован: Политика одного источника запрещает чтение удаленного ресурса на https://stats.g.doubleclick.net/j/collect?t=dc&aip=1&_r=3&v=1&_v=j101&tid=UA-89387429-6&cid=1192548834.1693726094&jid=1383895819&gjid=1305619771&_gid=1607889253.1693726094&_u=aGDAAEABAAAAACgGK~&z=1883213520. (Причина: не удалось выполнить запрос CORS). Код состояния: (null).

**Окружение:**

- Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/117.0

## Баг №18. Загрузка шрифтов не удалась

**Предшествующие условия:**\
Открыта главная страница megamarket.ru

**Серьёзность:**\
Minor

**Шаги для воспроизведения:**
1. Нажать F12;
2. Нажать "Консоль";
3. Нажать "Ошибки".

**Ожидаемый результат:**\
Ошибок нет.

**Фактический результат:**\
downloadable font: download failed (font-family: "SB Sans Text" style:normal weight:400 stretch:100 src index:0): bad URI or cross-site access not allowed source: https://extra-cdn.sbermegamarket.ru/static/dist/fonts/SBSansText-Regular.5faf51.woff2.

**Окружение:**\
Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0

## Баг №19. Пустые баннеры на главной странице

**Предшествующие условия:**\
Открыта главная страница megamarket.ru

**Серьёзность:**\
Minor

**Шаги для воспроизведения:**
1. Нажать F12;
2. Нажать "Консоль";
3. Нажать "Ошибки".

**Ожидаемый результат:**\
Ошибок нет.

**Фактический результат:**\
page url: /; message: Пустые баннеры на главной; details: {"banners":[ ],"criteria":{"startNum":100111001,"endNum":100111029},"addressId":""}

**Окружение:**\
Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0

## Баг №20. Превышено время ожидания

**Предшествующие условия:**\
Открыта главная страница megamarket.ru

**Серьёзность:**\
Minor

**Шаги для воспроизведения:**
1. Нажать F12;
2. Нажать "Консоль";
3. Нажать "Ошибки".

**Ожидаемый результат:**\
Ошибок нет.

**Фактический результат:**\
Uncaught (in promise) Timeout (i)

**Окружение:**\
Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0